!function(){"use strict";function e(e,t,n){var o=function(e,t,n){for(var o=0,r=Math.min(n+1,e.length-1),c=Math.min(t+1,e[n].length-1),l=Math.max(n-1,0);l<=r;l++)for(var u=Math.max(t-1,0);u<=c;u++)o+=e[l][u];return o-e[n][t]}(e,t,n);return 2===o?e[n][t]:3===o?1:0}var t=300;var n,o,r,c,l=document.getElementById("life").getContext("2d");function u(){o=function(t){for(var n=[],o=0;o<t.length;o++){n.push([]);for(var r=0;r<t[o].length;r++)n[o].push(e(t,r,o))}return n}(o),function(e,n){for(var o=n.length,r=t/o,c=0;c<o;c++)for(var l=0;l<o;l++){var u=r-2;1===n[l][c]?(e.fillStyle="#6A0AAB",e.fillRect(c*r+1,l*r+1,u,u)):(e.fillStyle="#fff",e.fillRect(c*r+1,l*r+1,u,u))}}(l,o),n>0?(n--,c=setTimeout(u,1e3*r)):i()}function i(){document.querySelector(".js-start").classList.remove("_hidden"),document.querySelector(".js-clear").classList.add("_hidden"),document.querySelector(".js-pause").classList.add("_hidden"),document.querySelector(".js-play").classList.add("_hidden")}document.querySelector(".js-start").addEventListener("click",(function(e){e.target.classList.toggle("_hidden"),document.querySelector(".js-pause").classList.toggle("_hidden"),document.querySelector(".js-clear").classList.toggle("_hidden");var c,i,a=function(){var e=document.querySelector("#size").value;return e<3&&(e=3),e>1e3&&(e=1e3),document.querySelector("#size").value=e,e}();(c=document.querySelector("#time").value)<.01&&(c=.01),c>60&&(c=60),document.querySelector("#time").value=c,r=c,(i=document.querySelector("#count").value)<2&&(i=2),i>5e3&&(i=5e3),document.querySelector("#count").value=i,n=i,o=function(e){for(var t=[],n=0;n<e;n++){t.push([]);for(var o=0;o<e;o++)t[n].push(Math.floor(2*Math.random()))}return t}(a),function(e,n){var o=t/n;e.beginPath();for(var r=1;r<n;r++)e.moveTo(r*o,0),e.lineTo(r*o,t);for(var c=1;c<n;c++)e.moveTo(0,c*o),e.lineTo(t,c*o);e.strokeStyle="#eee",e.stroke(),function(e){e.beginPath(),e.moveTo(0,0),e.lineTo(0,t),e.lineTo(t,t),e.lineTo(t,0),e.lineTo(0,0),e.lineWidth=2,e.strokeStyle="#d5d5d5",e.stroke()}(e)}(l,a),u()})),document.querySelector(".js-play").addEventListener("click",(function(e){u(),e.target.classList.toggle("_hidden"),document.querySelector(".js-pause").classList.toggle("_hidden")})),document.querySelector(".js-pause").addEventListener("click",(function(e){clearTimeout(c),e.target.classList.toggle("_hidden"),document.querySelector(".js-play").classList.toggle("_hidden")})),document.querySelector(".js-clear").addEventListener("click",(function(){n=0,clearTimeout(c),function(e){e.clearRect(0,0,t,t)}(l),i()}))}();